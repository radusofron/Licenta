{% extends "post_login_base.html" %}

{% block head %}
<link rel="stylesheet" href="{{ url_for('static', filename='styles/destinations.css') }}" />
{% endblock %}

{% block title %} Site name | Destinations {% endblock %}

{% block content %}
<main>
    {% if option == "visited" %}
    <section class="visited-destinations">
        {% if destinations_specific|length > 0 %}
        <h3 class="destinations__subtitle">Visited destinations</h3>
        <div class="visited-destinations__container">
            {% for index in range(destinations_specific|length) %}
            <div class="visited-destinations__destination">
                <div class="destinations__image-container">
                    <img class="destinations__image"
                        src="{{url_for('static', filename='/assets/photos/destination.jpg')}}"
                        alt="Image of this destination">
                    <a class="visited-destinations__open-button"
                        href="{{ url_for('home_view_blueprint.home_view') }}">Open</a>
                    <a class="visited-destinations__evaluate-button"
                        href="{{ url_for('home_view_blueprint.home_view') }}">Evaluate</a>
                    <a class="visited-destinations__itineraries-button"
                        href="{{ url_for('home_view_blueprint.home_view') }}">Itineraries</a>
                </div>
                <p class="visited-destinations__name">
                    {{ destinations_specific[index] }}
                </p>
            </div>
            {% endfor %}
        </div>
        {% else %}
        No destinations visited.
        {% endif %}


    </section>
    {% elif option == "wishlisted" %}
    <section class="wishlisted-destinations">
        {% if destinations_specific|length > 0 %}
        These are the destinations on wishlist:
        {% for index in range(destinations_specific|length) %}
        {{ destinations_specific[index] }}
        {% endfor %}
        {% else %}
        No destinations on wishlist.
        {% endif %}
    </section>
    {% else %}

    {% if destinations_specific|length > 1 %}

    {% if destinations_specific|length == 17 %}
    <section class="most-visited">
        These are most visited destinations:
        {% for index in range(0, destinations_specific|length - 8, 2) %}
        {{ destinations_specific[index] }} : {{ destinations_specific[index + 1] }}
        {% endfor %}
    </section>
    <section class="most-reviewed">
        These are most reviewed destinations:
        {% for index in range(9, destinations_specific|length, 2) %}
        {{ destinations_specific[index] }} : {{ destinations_specific[index + 1] }}
        {% endfor %}
    </section>
    {% elif destinations_specific|length == 9 and destinations_specific[0] == " " %}
    <section class="most-visited">
        Most visited destinations not found.
    </section>
    <section class="most-reviewed">
        These are most reviewed destinations:
        {% for index in range(1, destinations_specific|length, 2) %}
        {{ destinations_specific[index] }} : {{ destinations_specific[index + 1] }}
        {% endfor %}
    </section>
    {% else %}
    <section class="most-visited">
        These are most visited destinations:
        {% for index in range(0, destinations_specific|length - 1, 2) %}
        {{ destinations_specific[index] }} : {{ destinations_specific[index + 1] }}
        {% endfor %}
    </section>
    <section class="most-reviewed">
        Most reviewed destinations not found.
    </section>
    {% endif %}

    {% else %}
    Most visited destinations and most reviewed destinations not found
    {% endif %}

    {% endif %}
    <section class="all-destinations">
        {% if destinations_all|length > 0 %}
        <div class="all-destinations__subtitle-container">
            <h3 class="destinations__subtitle">Find a destination what suits you...</h3>
            <input class="all-destinations__input" maxlength="40" autocomplete="off" name="destination" type="text"
                required>
        </div>
        <div class="all-destinations__container">
            {% for index in range(destinations_all|length) %}
            <div class="all-destinations__destination">
                <div class="destinations__image-container">
                    <img class="destinations__image"
                        src="{{url_for('static', filename='/assets/photos/destination.jpg')}}"
                        alt="Image of this destination">
                    <a class="all-destinations__open-button"
                        href="{{ url_for('home_view_blueprint.home_view') }}">Open</a>
                </div>
                <p class="all-destinations__name">
                    {{ destinations_all[index] }}
                </p>
            </div>
            {% endfor %}
        </div>

        {% else %}
        No available destinations.

        {% endif %}
    </section>
</main>
{% endblock %}